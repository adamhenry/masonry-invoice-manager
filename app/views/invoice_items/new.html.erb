<h1>New Invoice Item</h1>

<% form_for(@invoice_item) do |f| %>
  <%= f.error_messages %>

  <p>
    <%- if @invoice_item.invoice.nil? -%>
    <%= f.label :invoice %>: <%= f.select :invoice_id, @invoices %>
    <%- else -%>
    <%= f.label :invoice %> <%=h @invoice_item.invoice.invoice_number %>
    <%= f.hidden_field :invoice_id %>
    <%- end -%>
  </p>
  <p>
    <%= f.label :description %><br />
    <%= f.text_area :description, text_area_options %>
  </p>
  <div id="invoice_item_entry">
    <div id="invoice_item_type_entry">
      <div class="left"> <%= f.label :item_type %> </div>
      <div class="right"> <%= f.select :item_type, @types %> </div>
      <br />
    </div>
    <div id="invoice_item_rate_quantity_entry">
      <div class="left"> <%= f.label :rate %> </div>
      <div class="right"> <%= f.text_field :rate %> </div>
      <br />
      <div class="left"> <%= f.label :quantity %> </div>
      <div class="right"> <%= f.text_field :quantity %> </div>
      <br />
    </div>
    <div id="invoice_item_amount_entry">
      <div class="left"> <%= f.label :amount %> </div>
      <div class="right"> <%= f.text_field :amount %> </div>
      <br />
    </div>
  </div>
  <p>
    <%= f.submit "Create" %>
  </p>
<% end %>

<%= link_to 'To Invoice', @invoice_item.invoice unless @invoice_item.invoice.nil?%>
